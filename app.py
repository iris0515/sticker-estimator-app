# -*- coding: utf-8 -*-
"""Untitled1.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1W_qDnZOBpyI-R1n7nguT1IehiUP6K6Ph
"""

import streamlit as st
import math
import pandas as pd

st.set_page_config(page_title="ìŠ¤í‹°ì»¤ ê²¬ì  ê³„ì‚°ê¸°", page_icon="ğŸ“", layout="centered")

def format_number(n): return format(n, ",").replace(",", ".")
def number_to_korean(num):
    digits = ["", "ì¼", "ì´", "ì‚¼", "ì‚¬", "ì˜¤", "ìœ¡", "ì¹ ", "íŒ”", "êµ¬"]
    units = ["", "ì‹­", "ë°±", "ì²œ"]
    big_units = ["", "ë§Œ", "ì–µ", "ì¡°", "ê²½"]
    result, group = "", 0
    while num > 0:
        part, part_str = num % 10000, ""
        num //= 10000
        for i in range(4):
            d = part % 10
            part //= 10
            if d != 0:
                part_str = (units[i] if d == 1 and i > 0 else digits[d] + units[i]) + part_str
        result = part_str + big_units[group] + result if part_str else result
        group += 1
    return result

def format_result(n): return f"{format_number(n)} ({number_to_korean(n)})"

st.markdown("<h1 style='text-align:center; color:#00b894;'>ğŸ§¾ ìŠ¤í‹°ì»¤ ê²¬ì  ê³„ì‚°ê¸°</h1>", unsafe_allow_html=True)

tab1, tab2, tab3 = st.tabs(["ğŸ“ ë©´ì  ê³„ì‚°ê¸°", "ğŸ“¦ í—¤ë‹¤í¬ì¥", "ğŸ¨ ê¸°íƒ€ ê²¬ì "])

# ---------------- TAB 1: ë©´ì  ê³„ì‚°ê¸° ----------------
with tab1:
    st.markdown("### ğŸ“ ë©´ì  ê³„ì‚°ê¸° (ì—…ê·¸ë ˆì´ë“œ)")
    col1_area, col2_area, col3_area = st.columns(3)
    with col1_area:
        width = st.number_input("ê°€ë¡œ(mm)", min_value=1.0, value=50.0, step=1.0)
    with col2_area:
        height = st.number_input("ì„¸ë¡œ(mm)", min_value=1.0, value=50.0, step=1.0)
    with col3_area:
        quantity = st.number_input("ì´ ìˆ˜ëŸ‰", min_value=1, value=100, step=1)

    sheet_type = st.selectbox("ê¸°ë³¸ ìš©ì§€ ì‚¬ì´ì¦ˆ", ["270x400mm", "280x400mm"])

    if st.button("ë©´ì  ê³„ì‚°", key="area_calc_btn"):
        max_width, max_height = (270, 400) if sheet_type == "270x400mm" else (280, 400)
        num_width = math.floor(max_width / width)
        num_height = math.floor(max_height / height)
        total_per_sheet = num_width * num_height

        if total_per_sheet == 0:
            st.error("âŒ í•´ë‹¹ í¬ê¸°ëŠ” ìš©ì§€ì— ë“¤ì–´ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        else:
            total_needed_sheets = math.ceil(quantity / total_per_sheet)
            im_basis = math.ceil(quantity / 20) if total_per_sheet >= 20 else total_needed_sheets
            sticky_basis = math.ceil(quantity / 16) if total_per_sheet >= 16 else total_needed_sheets

            st.success(f"âœ… í•œ ì¥ë‹¹ ìµœëŒ€ ë°°ì¹˜ ìˆ˜: {format_result(total_per_sheet)}ê°œ")
            st.info(f"ğŸ“„ ê¸°ë³¸ ìˆ˜ëŸ‰ ê¸°ì¤€: {format_result(total_needed_sheets)}ì¥")
            st.write(f"ğŸ’¡ ì™„ì¹¼ ê¸°ì¤€ ìˆ˜ëŸ‰ (ì•„ì„ ê¸°ì¤€ 20ê°œ): {format_result(im_basis)}ì¥")
            st.write(f"ğŸ’¡ ì™„ì¹¼ ê¸°ì¤€ ìˆ˜ëŸ‰ (ìŠ¤í‹°í‚¤ ê¸°ì¤€ 16ê°œ): {format_result(sticky_basis)}ì¥")
import streamlit as st
import math
import pandas as pd