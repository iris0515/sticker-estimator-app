# -*- coding: utf-8 -*-
"""Untitled1.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1W_qDnZOBpyI-R1n7nguT1IehiUP6K6Ph
"""

import streamlit as st
import math
import pandas as pd

st.set_page_config(page_title="ìŠ¤í‹°ì»¤ ê²¬ì  ê³„ì‚°ê¸°", page_icon="ğŸ“", layout="centered")

def format_number(n): return format(n, ",").replace(",", ".")
def number_to_korean(num):
    digits = ["", "ì¼", "ì´", "ì‚¼", "ì‚¬", "ì˜¤", "ìœ¡", "ì¹ ", "íŒ”", "êµ¬"]
    units = ["", "ì‹­", "ë°±", "ì²œ"]
    big_units = ["", "ë§Œ", "ì–µ", "ì¡°", "ê²½"]
    result, group = "", 0
    while num > 0:
        part, part_str = num % 10000, ""
        num //= 10000
        for i in range(4):
            d = part % 10
            part //= 10
            if d != 0:
                part_str = (units[i] if d == 1 and i > 0 else digits[d] + units[i]) + part_str
        result = part_str + big_units[group] + result if part_str else result
        group += 1
    return result

def format_result(n): return f"{format_number(n)} ({number_to_korean(n)})"

st.markdown("<h1 style='text-align:center; color:#00b894;'>ğŸ§¾ ìŠ¤í‹°ì»¤ ê²¬ì  ê³„ì‚°ê¸°</h1>", unsafe_allow_html=True)

tab1, tab2, tab3 = st.tabs(["ğŸ“ ë©´ì  ê³„ì‚°ê¸°", "ğŸ“¦ í—¤ë‹¤í¬ì¥", "ğŸ¨ ê¸°íƒ€ ê²¬ì "])

# ---------------- TAB 1: ë©´ì  ê³„ì‚°ê¸° ----------------
with tab1:
    st.markdown("### ğŸ“ ë©´ì  ê³„ì‚°ê¸° (ì—…ê·¸ë ˆì´ë“œ)")
    col1_area, col2_area, col3_area = st.columns(3)
    with col1_area:
        width = st.number_input("ê°€ë¡œ(mm)", min_value=1.0, value=50.0, step=1.0)
    with col2_area:
        height = st.number_input("ì„¸ë¡œ(mm)", min_value=1.0, value=50.0, step=1.0)
    with col3_area:
        quantity = st.number_input("ì´ ìˆ˜ëŸ‰", min_value=1, value=100, step=1)

    sheet_type = st.selectbox("ê¸°ë³¸ ìš©ì§€ ì‚¬ì´ì¦ˆ", ["270x400mm", "280x400mm"])

    if st.button("ë©´ì  ê³„ì‚°", key="area_calc_btn"):
        max_width, max_height = (270, 400) if sheet_type == "270x400mm" else (280, 400)
        num_width = math.floor(max_width / width)
        num_height = math.floor(max_height / height)
        total_per_sheet = num_width * num_height

        if total_per_sheet == 0:
            st.error("âŒ í•´ë‹¹ í¬ê¸°ëŠ” ìš©ì§€ì— ë“¤ì–´ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        else:
            total_needed_sheets = math.ceil(quantity / total_per_sheet)
            im_basis = math.ceil(quantity / 20) if total_per_sheet >= 20 else total_needed_sheets
            sticky_basis = math.ceil(quantity / 16) if total_per_sheet >= 16 else total_needed_sheets

            st.success(f"âœ… í•œ ì¥ë‹¹ ìµœëŒ€ ë°°ì¹˜ ìˆ˜: {format_result(total_per_sheet)}ê°œ")
            st.info(f"ğŸ“„ ê¸°ë³¸ ìˆ˜ëŸ‰ ê¸°ì¤€: {format_result(total_needed_sheets)}ì¥")
            st.write(f"ğŸ’¡ ì™„ì¹¼ ê¸°ì¤€ ìˆ˜ëŸ‰ (ì•„ì„ ê¸°ì¤€ 20ê°œ): {format_result(im_basis)}ì¥")
            st.write(f"ğŸ’¡ ì™„ì¹¼ ê¸°ì¤€ ìˆ˜ëŸ‰ (ìŠ¤í‹°í‚¤ ê¸°ì¤€ 16ê°œ): {format_result(sticky_basis)}ì¥")
import streamlit as st
import math
import pandas as pd

st.set_page_config(page_title="ìŠ¤í‹°ì»¤ ê²¬ì  ê³„ì‚°ê¸°", page_icon="ğŸ“", layout="centered")

def format_number(n): return format(n, ",").replace(",", ".")
def number_to_korean(num):
    digits = ["", "ì¼", "ì´", "ì‚¼", "ì‚¬", "ì˜¤", "ìœ¡", "ì¹ ", "íŒ”", "êµ¬"]
    units = ["", "ì‹­", "ë°±", "ì²œ"]
    big_units = ["", "ë§Œ", "ì–µ", "ì¡°", "ê²½"]
    result, group = "", 0
    while num > 0:
        part, part_str = num % 10000, ""
        num //= 10000
        for i in range(4):
            d = part % 10
            part //= 10
            if d != 0:
                part_str = (units[i] if d == 1 and i > 0 else digits[d] + units[i]) + part_str
        result = part_str + big_units[group] + result if part_str else result
        group += 1
    return result

def format_result(n): return f"{format_number(n)} ({number_to_korean(n)})"

st.markdown("<h1 style='text-align:center; color:#00b894;'>ğŸ§¾ ìŠ¤í‹°ì»¤ ê²¬ì  ê³„ì‚°ê¸°</h1>", unsafe_allow_html=True)

tab1, tab2, tab3 = st.tabs(["ğŸ“ ë©´ì  ê³„ì‚°ê¸°", "ğŸ“¦ í—¤ë‹¤í¬ì¥", "ğŸ¨ ê¸°íƒ€ ê²¬ì "])

# ---------------- TAB 1: ë©´ì  ê³„ì‚°ê¸° ----------------
with tab1:
    st.markdown("### ğŸ“ ë©´ì  ê³„ì‚°ê¸° (ì—…ê·¸ë ˆì´ë“œ)")
    col1_area, col2_area, col3_area = st.columns(3)
    with col1_area:
        width = st.number_input("ê°€ë¡œ(mm)", min_value=1.0, value=50.0, step=1.0)
    with col2_area:
        height = st.number_input("ì„¸ë¡œ(mm)", min_value=1.0, value=50.0, step=1.0)
    with col3_area:
        quantity = st.number_input("ì´ ìˆ˜ëŸ‰", min_value=1, value=100, step=1)

    sheet_type = st.selectbox("ê¸°ë³¸ ìš©ì§€ ì‚¬ì´ì¦ˆ", ["270x400mm", "280x400mm"])

    if st.button("ë©´ì  ê³„ì‚°", key="area_calc_btn"):
        max_width, max_height = (270, 400) if sheet_type == "270x400mm" else (280, 400)
        num_width = math.floor(max_width / width)
        num_height = math.floor(max_height / height)
        total_per_sheet = num_width * num_height

        if total_per_sheet == 0:
            st.error("âŒ í•´ë‹¹ í¬ê¸°ëŠ” ìš©ì§€ì— ë“¤ì–´ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤.")
        else:
            total_needed_sheets = math.ceil(quantity / total_per_sheet)
            im_basis = math.ceil(quantity / 20) if total_per_sheet >= 20 else total_needed_sheets
            sticky_basis = math.ceil(quantity / 16) if total_per_sheet >= 16 else total_needed_sheets

            st.success(f"âœ… í•œ ì¥ë‹¹ ìµœëŒ€ ë°°ì¹˜ ìˆ˜: {format_result(total_per_sheet)}ê°œ")
            st.info(f"ğŸ“„ ê¸°ë³¸ ìˆ˜ëŸ‰ ê¸°ì¤€: {format_result(total_needed_sheets)}ì¥")
            st.write(f"ğŸ’¡ ì™„ì¹¼ ê¸°ì¤€ ìˆ˜ëŸ‰ (ì•„ì„ ê¸°ì¤€ 20ê°œ): {format_result(im_basis)}ì¥")
            st.write(f"ğŸ’¡ ì™„ì¹¼ ê¸°ì¤€ ìˆ˜ëŸ‰ (ìŠ¤í‹°í‚¤ ê¸°ì¤€ 16ê°œ): {format_result(sticky_basis)}ì¥")
with tab3:
    st.markdown("### ğŸ“‹ ì¼ë°˜ / ì™„ì¹¼ / ì‘ê°€ ê²¬ì  ê³„ì‚°ê¸°")

    # ğŸ“‹ ì¼ë°˜ ê²¬ì  ê³„ì‚°ê¸°
    with st.expander("ğŸ“‹ ì¼ë°˜ ê²¬ì  ê³„ì‚°ê¸°"):
        general_data = pd.DataFrame({
            "ìŠ¤í‹°ì»¤ìš©ì§€": ["ìœ í¬ì§€"] * 3 + ["ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€"] * 3 + ["ì•„íŠ¸ì§€"] * 3,
            "ì½”íŒ…í•„ë¦„": ["ë¬´ê´‘", "ìœ ê´‘", "ì—†ìŒ"] * 3,
            "ì¬ë‹¨ì—†ì„ë•Œê°€ê²©": [5000, 5000, 5000, 5500, 5500, 5500, 4500, 4500, 4500],
            "ì¬ë‹¨ìˆì„ë•Œê°€ê²©": [7000, 7000, 7000, 7500, 7500, 7500, 6500, 6500, 6500]
        })
        g_type = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€ (ì¼ë°˜)", general_data["ìŠ¤í‹°ì»¤ìš©ì§€"].unique())
        g_coating = st.selectbox("ì½”íŒ… í•„ë¦„ (ì¼ë°˜)", ["ë¬´ê´‘", "ìœ ê´‘", "ì—†ìŒ"])
        g_cut = st.selectbox("ì¬ë‹¨ ì—¬ë¶€ (ì¼ë°˜)", ["ìˆìŒ", "ì—†ìŒ"])
        g_qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰ (ì¼ë°˜)", min_value=1, value=100)
        if st.button("ì¼ë°˜ ê²¬ì  ê³„ì‚°", key="btn_general"):
            row = general_data[(general_data["ìŠ¤í‹°ì»¤ìš©ì§€"] == g_type) & (general_data["ì½”íŒ…í•„ë¦„"] == g_coating)]
            if not row.empty:
                base_price = row["ì¬ë‹¨ìˆì„ë•Œê°€ê²©"].values[0] if g_cut == "ìˆìŒ" else row["ì¬ë‹¨ì—†ì„ë•Œê°€ê²©"].values[0]
                unit_price = base_price + (500 if g_coating in ["ë¬´ê´‘", "ìœ ê´‘"] else 0)
                total_price = unit_price * g_qty
                st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
                st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")

    # ğŸ§· ì™„ì¹¼ ìŠ¤í‹°í‚¤
    with st.expander("ğŸ§· ì™„ì¹¼ ê²¬ì  ê³„ì‚°ê¸° (ìŠ¤í‹°í‚¤)"):
        sticky_data = pd.DataFrame([
            {"ìš©ì§€": "í”„ë¦¬ë¯¸ì—„ì™„ì¹¼", "ì½”íŒ…": "ìœ ê´‘", "ìš©ì§€ê°€ê²©": 5000, "ì½”íŒ…ê°€ê²©": 500},
            {"ìš©ì§€": "í”„ë¦¬ë¯¸ì—„ì™„ì¹¼", "ì½”íŒ…": "ìŠ¤íŒŒí´", "ìš©ì§€ê°€ê²©": 5000, "ì½”íŒ…ê°€ê²©": 1000},
            {"ìš©ì§€": "ìœ í¬ì§€", "ì½”íŒ…": "ë§¤íŠ¸í„", "ìš©ì§€ê°€ê²©": 4000, "ì½”íŒ…ê°€ê²©": 1300},
            {"ìš©ì§€": "ì•„íŠ¸ì§€", "ì½”íŒ…": "ë²¨ë²³ë¬´ê´‘", "ìš©ì§€ê°€ê²©": 3800, "ì½”íŒ…ê°€ê²©": 1000}
        ])
        s_type = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€ (ìŠ¤í‹°í‚¤)", sticky_data["ìš©ì§€"].unique())
        s_coating = st.selectbox("ì½”íŒ… í•„ë¦„ (ìŠ¤í‹°í‚¤)", sticky_data[sticky_data["ìš©ì§€"] == s_type]["ì½”íŒ…"].unique())
        s_qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰ (ìŠ¤í‹°í‚¤)", min_value=1, value=100)
        if st.button("ìŠ¤í‹°í‚¤ ê²¬ì  ê³„ì‚°", key="btn_sticky"):
            row = sticky_data[(sticky_data["ìš©ì§€"] == s_type) & (sticky_data["ì½”íŒ…"] == s_coating)]
            if not row.empty:
                base = row.iloc[0]["ìš©ì§€ê°€ê²©"] + row.iloc[0]["ì½”íŒ…ê°€ê²©"]
                unit_price = base - (500 if s_qty >= 125 else 300 if s_qty >= 62 else 200 if s_qty >= 31 else 0)
                total_price = unit_price * s_qty
                st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
                st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")

    # ğŸ§² ì™„ì¹¼ ì•„ì„
    with st.expander("ğŸ§² ì™„ì¹¼ ê²¬ì  ê³„ì‚°ê¸° (ì•„ì„)"):
        im_data = pd.DataFrame([
            {"ìš©ì§€": "ì•„íŠ¸ì§€", "ì½”íŒ…": "ë¬´ê´‘", "ìš©ì§€ê°€ê²©": 4100, "ì½”íŒ…ê°€ê²©": 500},
            {"ìš©ì§€": "ì•„íŠ¸ì§€", "ì½”íŒ…": "ìŠ¤íŒŒí´(ëª¨ë˜ì•Œ)", "ìš©ì§€ê°€ê²©": 4100, "ì½”íŒ…ê°€ê²©": 1000},
            {"ìš©ì§€": "ë¦¬ë¬´ë²„ë¸”ì•„íŠ¸ì§€", "ì½”íŒ…": "ë²¨ë²³ë¬´ê´‘", "ìš©ì§€ê°€ê²©": 5100, "ì½”íŒ…ê°€ê²©": 1000},
            {"ìš©ì§€": "ìœ í¬ì§€", "ì½”íŒ…": "ìœ ê´‘", "ìš©ì§€ê°€ê²©": 4500, "ì½”íŒ…ê°€ê²©": 500},
            {"ìš©ì§€": "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€", "ì½”íŒ…": "ë³„ë¹›", "ìš©ì§€ê°€ê²©": 5500, "ì½”íŒ…ê°€ê²©": 1000}
        ])
        im_type = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€ (ì•„ì„)", im_data["ìš©ì§€"].unique())
        im_coating = st.selectbox("ì½”íŒ… í•„ë¦„ (ì•„ì„)", im_data[im_data["ìš©ì§€"] == im_type]["ì½”íŒ…"].unique())
        im_qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰ (ì•„ì„)", min_value=1, value=100)
        if st.button("ì•„ì„ ê²¬ì  ê³„ì‚°", key="btn_aim"):
            row = im_data[(im_data["ìš©ì§€"] == im_type) & (im_data["ì½”íŒ…"] == im_coating)]
            if not row.empty:
                base = row.iloc[0]["ìš©ì§€ê°€ê²©"] + row.iloc[0]["ì½”íŒ…ê°€ê²©"]
                unit_price = base - (700 if im_qty >= 100 else 400 if im_qty >= 70 else 200 if im_qty >= 30 else 0)
                total_price = unit_price * im_qty
                st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
                st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")

    # ğŸ¨ ì‘ê°€ ê²¬ì 
    with st.expander("ğŸ¨ ì‘ê°€ ê²¬ì  ê³„ì‚°ê¸°"):
        sticker = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€", ["ìœ í¬ì§€", "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€", "ì•„íŠ¸ì§€", "ë¦¬ë¬´ë²„ë¸”ì•„íŠ¸ì§€", "ëª¨ì¡°ì§€", "íˆ¬ëª…ìŠ¤í‹°ì»¤", "ë§ˆìŠ¤í‚¹ì”°"])
        fuji = st.selectbox("í›„ì§€ ì¢…ë¥˜", ["ë°±ìƒ‰í›„ì§€", "íˆ¬ëª…í›„ì§€"])
        coating = st.selectbox("ì½”íŒ… í•„ë¦„", ["ë¬´ê´‘", "ìœ ê´‘", "ì”°í¬ë²¨ë²³(ë¬´ê´‘)", "ìŠ¤íŒŒí´(ëª¨ë˜ì•Œ)", "ë ˆì¸ë³´ìš°", "ë³„ë¹›", "ìƒŒë“œìŠ¤íƒ€", "ë§¤íŠ¸í„", "ì—†ìŒ"])
        cutting = st.selectbox("ì¬ë‹¨ ì—¬ë¶€", ["ìˆìŒ", "ì—†ìŒ"])
        qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰", min_value=1, value=100)

        if st.button("ì‘ê°€ ê²¬ì  ê³„ì‚°", key="btn_artist"):
            base_price_map = {
                "ìœ í¬ì§€": 2900, "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€": 3400, "ì•„íŠ¸ì§€": 2800,
                "ë¦¬ë¬´ë²„ë¸”ì•„íŠ¸ì§€": 3300, "ëª¨ì¡°ì§€": 2800, "íˆ¬ëª…ìŠ¤í‹°ì»¤": 3800, "ë§ˆìŠ¤í‚¹ì”°": 4500
            }
            coating_price_map = {
                "ë¬´ê´‘": 500, "ìœ ê´‘": 500, "ì”°í¬ë²¨ë²³(ë¬´ê´‘)": 1000, "ìŠ¤íŒŒí´(ëª¨ë˜ì•Œ)": 1000,
                "ë ˆì¸ë³´ìš°": 1000, "ë³„ë¹›": 1000, "ìƒŒë“œìŠ¤íƒ€": 1000, "ë§¤íŠ¸í„": 1300, "ì—†ìŒ": 0
            }
            def fuji_adj(sticker_type, fuji_type):
                if fuji_type == "íˆ¬ëª…í›„ì§€":
                    if sticker_type == "ìœ í¬ì§€": return 1100
                    elif sticker_type == "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€": return 800
                return 0

            unit_price = base_price_map[sticker] + coating_price_map[coating] + fuji_adj(sticker, fuji)
            if qty >= 100: unit_price -= 300
            elif qty >= 70: unit_price -= 200
            elif qty >= 30: unit_price -= 100
            if cutting == "ìˆìŒ": unit_price += 500

            total_price = unit_price * qty
            st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
            st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")with tab3:
    st.markdown("### ğŸ“‹ ì¼ë°˜ / ì™„ì¹¼ / ì‘ê°€ ê²¬ì  ê³„ì‚°ê¸°")

    # ğŸ“‹ ì¼ë°˜ ê²¬ì  ê³„ì‚°ê¸°
    with st.expander("ğŸ“‹ ì¼ë°˜ ê²¬ì  ê³„ì‚°ê¸°"):
        general_data = pd.DataFrame({
            "ìŠ¤í‹°ì»¤ìš©ì§€": ["ìœ í¬ì§€"] * 3 + ["ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€"] * 3 + ["ì•„íŠ¸ì§€"] * 3,
            "ì½”íŒ…í•„ë¦„": ["ë¬´ê´‘", "ìœ ê´‘", "ì—†ìŒ"] * 3,
            "ì¬ë‹¨ì—†ì„ë•Œê°€ê²©": [5000, 5000, 5000, 5500, 5500, 5500, 4500, 4500, 4500],
            "ì¬ë‹¨ìˆì„ë•Œê°€ê²©": [7000, 7000, 7000, 7500, 7500, 7500, 6500, 6500, 6500]
        })
        g_type = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€ (ì¼ë°˜)", general_data["ìŠ¤í‹°ì»¤ìš©ì§€"].unique())
        g_coating = st.selectbox("ì½”íŒ… í•„ë¦„ (ì¼ë°˜)", ["ë¬´ê´‘", "ìœ ê´‘", "ì—†ìŒ"])
        g_cut = st.selectbox("ì¬ë‹¨ ì—¬ë¶€ (ì¼ë°˜)", ["ìˆìŒ", "ì—†ìŒ"])
        g_qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰ (ì¼ë°˜)", min_value=1, value=100)
        if st.button("ì¼ë°˜ ê²¬ì  ê³„ì‚°", key="btn_general"):
            row = general_data[(general_data["ìŠ¤í‹°ì»¤ìš©ì§€"] == g_type) & (general_data["ì½”íŒ…í•„ë¦„"] == g_coating)]
            if not row.empty:
                base_price = row["ì¬ë‹¨ìˆì„ë•Œê°€ê²©"].values[0] if g_cut == "ìˆìŒ" else row["ì¬ë‹¨ì—†ì„ë•Œê°€ê²©"].values[0]
                unit_price = base_price + (500 if g_coating in ["ë¬´ê´‘", "ìœ ê´‘"] else 0)
                total_price = unit_price * g_qty
                st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
                st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")

    # ğŸ§· ì™„ì¹¼ ìŠ¤í‹°í‚¤
    with st.expander("ğŸ§· ì™„ì¹¼ ê²¬ì  ê³„ì‚°ê¸° (ìŠ¤í‹°í‚¤)"):
        sticky_data = pd.DataFrame([
            {"ìš©ì§€": "í”„ë¦¬ë¯¸ì—„ì™„ì¹¼", "ì½”íŒ…": "ìœ ê´‘", "ìš©ì§€ê°€ê²©": 5000, "ì½”íŒ…ê°€ê²©": 500},
            {"ìš©ì§€": "í”„ë¦¬ë¯¸ì—„ì™„ì¹¼", "ì½”íŒ…": "ìŠ¤íŒŒí´", "ìš©ì§€ê°€ê²©": 5000, "ì½”íŒ…ê°€ê²©": 1000},
            {"ìš©ì§€": "ìœ í¬ì§€", "ì½”íŒ…": "ë§¤íŠ¸í„", "ìš©ì§€ê°€ê²©": 4000, "ì½”íŒ…ê°€ê²©": 1300},
            {"ìš©ì§€": "ì•„íŠ¸ì§€", "ì½”íŒ…": "ë²¨ë²³ë¬´ê´‘", "ìš©ì§€ê°€ê²©": 3800, "ì½”íŒ…ê°€ê²©": 1000}
        ])
        s_type = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€ (ìŠ¤í‹°í‚¤)", sticky_data["ìš©ì§€"].unique())
        s_coating = st.selectbox("ì½”íŒ… í•„ë¦„ (ìŠ¤í‹°í‚¤)", sticky_data[sticky_data["ìš©ì§€"] == s_type]["ì½”íŒ…"].unique())
        s_qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰ (ìŠ¤í‹°í‚¤)", min_value=1, value=100)
        if st.button("ìŠ¤í‹°í‚¤ ê²¬ì  ê³„ì‚°", key="btn_sticky"):
            row = sticky_data[(sticky_data["ìš©ì§€"] == s_type) & (sticky_data["ì½”íŒ…"] == s_coating)]
            if not row.empty:
                base = row.iloc[0]["ìš©ì§€ê°€ê²©"] + row.iloc[0]["ì½”íŒ…ê°€ê²©"]
                unit_price = base - (500 if s_qty >= 125 else 300 if s_qty >= 62 else 200 if s_qty >= 31 else 0)
                total_price = unit_price * s_qty
                st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
                st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")

    # ğŸ§² ì™„ì¹¼ ì•„ì„
    with st.expander("ğŸ§² ì™„ì¹¼ ê²¬ì  ê³„ì‚°ê¸° (ì•„ì„)"):
        im_data = pd.DataFrame([
            {"ìš©ì§€": "ì•„íŠ¸ì§€", "ì½”íŒ…": "ë¬´ê´‘", "ìš©ì§€ê°€ê²©": 4100, "ì½”íŒ…ê°€ê²©": 500},
            {"ìš©ì§€": "ì•„íŠ¸ì§€", "ì½”íŒ…": "ìŠ¤íŒŒí´(ëª¨ë˜ì•Œ)", "ìš©ì§€ê°€ê²©": 4100, "ì½”íŒ…ê°€ê²©": 1000},
            {"ìš©ì§€": "ë¦¬ë¬´ë²„ë¸”ì•„íŠ¸ì§€", "ì½”íŒ…": "ë²¨ë²³ë¬´ê´‘", "ìš©ì§€ê°€ê²©": 5100, "ì½”íŒ…ê°€ê²©": 1000},
            {"ìš©ì§€": "ìœ í¬ì§€", "ì½”íŒ…": "ìœ ê´‘", "ìš©ì§€ê°€ê²©": 4500, "ì½”íŒ…ê°€ê²©": 500},
            {"ìš©ì§€": "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€", "ì½”íŒ…": "ë³„ë¹›", "ìš©ì§€ê°€ê²©": 5500, "ì½”íŒ…ê°€ê²©": 1000}
        ])
        im_type = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€ (ì•„ì„)", im_data["ìš©ì§€"].unique())
        im_coating = st.selectbox("ì½”íŒ… í•„ë¦„ (ì•„ì„)", im_data[im_data["ìš©ì§€"] == im_type]["ì½”íŒ…"].unique())
        im_qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰ (ì•„ì„)", min_value=1, value=100)
        if st.button("ì•„ì„ ê²¬ì  ê³„ì‚°", key="btn_aim"):
            row = im_data[(im_data["ìš©ì§€"] == im_type) & (im_data["ì½”íŒ…"] == im_coating)]
            if not row.empty:
                base = row.iloc[0]["ìš©ì§€ê°€ê²©"] + row.iloc[0]["ì½”íŒ…ê°€ê²©"]
                unit_price = base - (700 if im_qty >= 100 else 400 if im_qty >= 70 else 200 if im_qty >= 30 else 0)
                total_price = unit_price * im_qty
                st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
                st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")

    # ğŸ¨ ì‘ê°€ ê²¬ì 
    with st.expander("ğŸ¨ ì‘ê°€ ê²¬ì  ê³„ì‚°ê¸°"):
        sticker = st.selectbox("ìŠ¤í‹°ì»¤ ìš©ì§€", ["ìœ í¬ì§€", "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€", "ì•„íŠ¸ì§€", "ë¦¬ë¬´ë²„ë¸”ì•„íŠ¸ì§€", "ëª¨ì¡°ì§€", "íˆ¬ëª…ìŠ¤í‹°ì»¤", "ë§ˆìŠ¤í‚¹ì”°"])
        fuji = st.selectbox("í›„ì§€ ì¢…ë¥˜", ["ë°±ìƒ‰í›„ì§€", "íˆ¬ëª…í›„ì§€"])
        coating = st.selectbox("ì½”íŒ… í•„ë¦„", ["ë¬´ê´‘", "ìœ ê´‘", "ì”°í¬ë²¨ë²³(ë¬´ê´‘)", "ìŠ¤íŒŒí´(ëª¨ë˜ì•Œ)", "ë ˆì¸ë³´ìš°", "ë³„ë¹›", "ìƒŒë“œìŠ¤íƒ€", "ë§¤íŠ¸í„", "ì—†ìŒ"])
        cutting = st.selectbox("ì¬ë‹¨ ì—¬ë¶€", ["ìˆìŒ", "ì—†ìŒ"])
        qty = st.number_input("ì œì‘ ìˆ˜ëŸ‰", min_value=1, value=100)

        if st.button("ì‘ê°€ ê²¬ì  ê³„ì‚°", key="btn_artist"):
            base_price_map = {
                "ìœ í¬ì§€": 2900, "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€": 3400, "ì•„íŠ¸ì§€": 2800,
                "ë¦¬ë¬´ë²„ë¸”ì•„íŠ¸ì§€": 3300, "ëª¨ì¡°ì§€": 2800, "íˆ¬ëª…ìŠ¤í‹°ì»¤": 3800, "ë§ˆìŠ¤í‚¹ì”°": 4500
            }
            coating_price_map = {
                "ë¬´ê´‘": 500, "ìœ ê´‘": 500, "ì”°í¬ë²¨ë²³(ë¬´ê´‘)": 1000, "ìŠ¤íŒŒí´(ëª¨ë˜ì•Œ)": 1000,
                "ë ˆì¸ë³´ìš°": 1000, "ë³„ë¹›": 1000, "ìƒŒë“œìŠ¤íƒ€": 1000, "ë§¤íŠ¸í„": 1300, "ì—†ìŒ": 0
            }
            def fuji_adj(sticker_type, fuji_type):
                if fuji_type == "íˆ¬ëª…í›„ì§€":
                    if sticker_type == "ìœ í¬ì§€": return 1100
                    elif sticker_type == "ë¦¬ë¬´ë²„ë¸”ìœ í¬ì§€": return 800
                return 0

            unit_price = base_price_map[sticker] + coating_price_map[coating] + fuji_adj(sticker, fuji)
            if qty >= 100: unit_price -= 300
            elif qty >= 70: unit_price -= 200
            elif qty >= 30: unit_price -= 100
            if cutting == "ìˆìŒ": unit_price += 500

            total_price = unit_price * qty
            st.success(f"âœ”ï¸ ë‹¨ê°€: {format_result(unit_price)}ì›")
            st.info(f"ğŸ’° ì´ ê°€ê²©: {format_result(total_price)}ì›")